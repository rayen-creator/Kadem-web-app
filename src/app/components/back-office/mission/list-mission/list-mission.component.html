<div class="content-wrapper">
  <!-- Content -->

  <div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4">
      <span
        class="text-muted fw-light"
        style="cursor: pointer"
        routerLink="../../../"
        >Contrat/</span
      >
      Mission
    </h4>

    <div class="row">
      <div class="card">
        <div class="d-flex justify-content-between">
          <h5 class="card-header">Table de mission</h5>
          <div
            class="row justify-content-center"
            style="margin-top: 20px; margin-right: 15px"
          >
            <div class="col-sm-12">
              <a routerLink="../ajoutermission" class="btn btn-primary"
                >Ajouter Mission</a
              >
            </div>
          </div>
        </div>

        <div
          class="table-responsive text-nowrap"
          [ngStyle]="{ height: missions.length <= 2 ? '150px' : 'auto' }"
        >
          <table class="table">
            <thead class="table-light">
              <tr>
                <th>IdMission</th>
                <th>title</th>
                <th>duration</th>
                <th>technologies</th>
                <th>description</th>
              </tr>
            </thead>
            <tbody class="table-border-bottom-0">
              <tr
                *ngFor="
                  let mission of missions
                    | paginate : { itemsPerPage: 5, currentPage: p }
                "
              >
                <td>
                  <i class="fab fa-angular fa-lg text-danger me-3"></i>
                  <strong>{{ mission.idMission }}</strong>
                </td>
                <td>{{ mission.title }}</td>
                <td>{{ mission.duration }}</td>
                <td>{{ mission.technologies }}</td>
                <td>{{ mission.description }}</td>

                <td>
                  <div class="dropdown">
                    <button
                      type="button"
                      class="btn p-0 dropdown-toggle hide-arrow"
                      data-bs-toggle="dropdown"
                    >
                      <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu">
                      <a
                        class="dropdown-item"
                        routerLink="../modifiermission/{{ mission.idMission }}"
                        ><i class="bx bx-edit-alt me-1"></i> Edit</a
                      >
                      <a
                        class="dropdown-item"
                        (click)="delete(mission.idMission)"
                        ><i class="bx bx-trash me-1"></i> Delete</a
                      >
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <pagination-controls
          (pageChange)="p = $event"
          (pageBoundsCorrection)="p = $event"
          previousLabel="Previous"
          nextLabel="Next"
          screenReaderPaginationLabel="Pagination"
          screenReaderPageLabel="page"
          screenReaderCurrentLabel="You're on page"
          class="pagination"
        >
        </pagination-controls>
      </div>
    </div>
  </div>
</div>
